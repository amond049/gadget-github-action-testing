name: "Gadget Deploy with Path"
description: "Deploy a Gadget app from a subfolder"
inputs:
  app:
    description: "Gadget app name"
    required: true
  environment:
    description: "Gadget environment"
    required: true
  token:
    description: "Gadget CLI token"
    required: true
  path:
    description: "Path to the Gadget app folder"
    required: true
runs:
  using: "composite"
  steps:
    - name: Change to app directory
      run: cd ${{ inputs.path }}

    - name: Deploy Gadget App
      uses: gadget-inc/ggt-deploy-action@v1
      with:
        app: ${{ inputs.app }}
        environment: ${{ inputs.environment }}
        token: ${{ inputs.token }}
        allow-issues: 'true'
